{% extends "base.html" %}

{% block title %}Reports - Engineering College Management System{% endblock %}

{% block extra_css %}
<style>
    .report-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        height: 100%;
    }
    
    .report-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }
    
    .report-icon {
        font-size: 2.5rem;
        margin-bottom: 1rem;
    }
    
    .report-badge {
        position: absolute;
        top: 10px;
        right: 10px;
    }
    
    .chart-container {
        position: relative;
        height: 300px;
        margin-bottom: 1rem;
    }
    
    .report-actions {
        margin-top: auto;
    }
    
    .report-meta {
        font-size: 0.85rem;
        color: #6c757d;
    }
    
    .report-progress {
        height: 8px;
        margin-bottom: 0.5rem;
    }
    
    .report-progress .progress-bar {
        background-color: #6a11cb;
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="row mb-4">
        <div class="col-md-6">
            <h1>Reports</h1>
            <p class="lead">View and generate academic and administrative reports</p>
        </div>
        <div class="col-md-6 text-md-end">
            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#generateReportModal">
                <i class="fas fa-plus me-1"></i> Generate New Report
            </button>
        </div>
    </div>

    <!-- Report Categories -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-white">
                    <ul class="nav nav-pills card-header-pills" id="reportTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="all-tab" data-bs-toggle="tab" data-bs-target="#all" type="button" role="tab" aria-controls="all" aria-selected="true">All Reports</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="academic-tab" data-bs-toggle="tab" data-bs-target="#academic" type="button" role="tab" aria-controls="academic" aria-selected="false">Academic</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="attendance-tab" data-bs-toggle="tab" data-bs-target="#attendance" type="button" role="tab" aria-controls="attendance" aria-selected="false">Attendance</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="financial-tab" data-bs-toggle="tab" data-bs-target="#financial" type="button" role="tab" aria-controls="financial" aria-selected="false">Financial</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="custom-tab" data-bs-toggle="tab" data-bs-target="#custom" type="button" role="tab" aria-controls="custom" aria-selected="false">Custom</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content" id="reportTabsContent">
                        <!-- All Reports Tab -->
                        <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
                            <div class="row">
                                <!-- Academic Performance Report -->
                                <div class="col-md-6 mb-4">
                                    <div class="card report-card">
                                        <div class="card-body d-flex flex-column">
                                            <span class="badge bg-info report-badge">Academic</span>
                                            <div class="text-center text-info report-icon">
                                                <i class="fas fa-chart-line"></i>
                                            </div>
                                            <h5 class="card-title text-center">Academic Performance Report</h5>
                                            <p class="card-text">Mid-semester academic performance report for all departments.</p>
                                            <div class="chart-container">
                                                <canvas id="academicPerformanceChart"></canvas>
                                            </div>
                                            <div class="report-meta mb-3">
                                                <div class="d-flex justify-content-between">
                                                    <span><i class="far fa-calendar-alt me-1"></i> Generated: Oct 20, 2025</span>
                                                    <span><i class="fas fa-user me-1"></i> By: Admin</span>
                                                </div>
                                            </div>
                                            <div class="report-actions mt-auto">
                                                <div class="d-grid gap-2">
                                                    <a href="/reports/2" class="btn btn-outline-primary">View Full Report</a>
                                                    <button class="btn btn-outline-secondary">
                                                        <i class="fas fa-download me-1"></i> Download PDF
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Attendance Report -->
                                <div class="col-md-6 mb-4">
                                    <div class="card report-card">
                                        <div class="card-body d-flex flex-column">
                                            <span class="badge bg-warning report-badge">Attendance</span>
                                            <div class="text-center text-warning report-icon">
                                                <i class="fas fa-calendar-check"></i>
                                            </div>
                                            <h5 class="card-title text-center">Monthly Attendance Report</h5>
                                            <p class="card-text">Monthly attendance report for all departments with detailed analytics.</p>
                                            <div class="chart-container">
                                                <canvas id="attendanceChart"></canvas>
                                            </div>
                                            <div class="report-meta mb-3">
                                                <div class="d-flex justify-content-between">
                                                    <span><i class="far fa-calendar-alt me-1"></i> Generated: Oct 1, 2025</span>
                                                    <span><i class="fas fa-user me-1"></i> By: Admin</span>
                                                </div>
                                            </div>
                                            <div class="report-actions mt-auto">
                                                <div class="d-grid gap-2">
                                                    <a href="/reports/1" class="btn btn-outline-primary">View Full Report</a>
                                                    <button class="btn btn-outline-secondary">
                                                        <i class="fas fa-download me-1"></i> Download PDF
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Placement Statistics Report -->
                                <div class="col-md-6 mb-4">
                                    <div class="card report-card">
                                        <div class="card-body d-flex flex-column">
                                            <span class="badge bg-success report-badge">Custom</span>
                                            <div class="text-center text-success report-icon">
                                                <i class="fas fa-briefcase"></i>
                                            </div>
                                            <h5 class="card-title text-center">Placement Statistics Report</h5>
                                            <p class="card-text">Annual placement statistics report with company-wise breakdown.</p>
                                            <div class="chart-container">
                                                <canvas id="placementChart"></canvas>
                                            </div>
                                            <div class="report-meta mb-3">
                                                <div class="d-flex justify-content-between">
                                                    <span><i class="far fa-calendar-alt me-1"></i> Generated: Sep 15, 2025</span>
                                                    <span><i class="fas fa-user me-1"></i> By: Admin</span>
                                                </div>
                                            </div>
                                            <div class="report-actions mt-auto">
                                                <div class="d-grid gap-2">
                                                    <a href="/reports/3" class="btn btn-outline-primary">View Full Report</a>
                                                    <button class="btn btn-outline-secondary">
                                                        <i class="fas fa-download me-1"></i> Download PDF
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Fee Collection Report -->
                                <div class="col-md-6 mb-4">
                                    <div class="card report-card">
                                        <div class="card-body d-flex flex-column">
                                            <span class="badge bg-danger report-badge">Financial</span>
                                            <div class="text-center text-danger report-icon">
                                                <i class="fas fa-money-bill-wave"></i>
                                            </div>
                                            <h5 class="card-title text-center">Fee Collection Report</h5>
                                            <p class="card-text">Quarterly fee collection report with payment status breakdown.</p>
                                            <div class="chart-container">
                                                <canvas id="feeCollectionChart"></canvas>
                                            </div>
                                            <div class="report-meta mb-3">
                                                <div class="d-flex justify-content-between">
                                                    <span><i class="far fa-calendar-alt me-1"></i> Generated: Oct 5, 2025</span>
                                                    <span><i class="fas fa-user me-1"></i> By: Admin</span>
                                                </div>
                                            </div>
                                            <div class="report-actions mt-auto">
                                                <div class="d-grid gap-2">
                                                    <a href="/reports/4" class="btn btn-outline-primary">View Full Report</a>
                                                    <button class="btn btn-outline-secondary">
                                                        <i class="fas fa-download me-1"></i> Download PDF
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Academic Tab -->
                        <div class="tab-pane fade" id="academic" role="tabpanel" aria-labelledby="academic-tab">
                            <div class="row">
                                <!-- Academic Performance Report -->
                                <div class="col-md-6 mb-4">
                                    <div class="card report-card">
                                        <div class="card-body d-flex flex-column">
                                            <span class="badge bg-info report-badge">Academic</span>
                                            <div class="text-center text-info report-icon">
                                                <i class="fas fa-chart-line"></i>
                                            </div>
                                            <h5 class="card-title text-center">Academic Performance Report</h5>
                                            <p class="card-text">Mid-semester academic performance report for all departments.</p>
                                            <div class="chart-container">
                                                <canvas id="academicPerformanceChart2"></canvas>
                                            </div>
                                            <div class="report-meta mb-3">
                                                <div class="d-flex justify-content-between">
                                                    <span><i class="far fa-calendar-alt me-1"></i> Generated: Oct 20, 2025</span>
                                                    <span><i class="fas fa-user me-1"></i> By: Admin</span>
                                                </div>
                                            </div>
                                            <div class="report-actions mt-auto">
                                                <div class="d-grid gap-2">
                                                    <a href="/reports/2" class="btn btn-outline-primary">View Full Report</a>
                                                    <button class="btn btn-outline-secondary">
                                                        <i class="fas fa-download me-1"></i> Download PDF
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Attendance Tab -->
                        <div class="tab-pane fade" id="attendance" role="tabpanel" aria-labelledby="attendance-tab">
                            <div class="row">
                                <!-- Attendance Report -->
                                <div class="col-md-6 mb-4">
                                    <div class="card report-card">
                                        <div class="card-body d-flex flex-column">
                                            <span class="badge bg-warning report-badge">Attendance</span>
                                            <div class="text-center text-warning report-icon">
                                                <i class="fas fa-calendar-check"></i>
                                            </div>
                                            <h5 class="card-title text-center">Monthly Attendance Report</h5>
                                            <p class="card-text">Monthly attendance report for all departments with detailed analytics.</p>
                                            <div class="chart-container">
                                                <canvas id="attendanceChart2"></canvas>
                                            </div>
                                            <div class="report-meta mb-3">
                                                <div class="d-flex justify-content-between">
                                                    <span><i class="far fa-calendar-alt me-1"></i> Generated: Oct 1, 2025</span>
                                                    <span><i class="fas fa-user me-1"></i> By: Admin</span>
                                                </div>
                                            </div>
                                            <div class="report-actions mt-auto">
                                                <div class="d-grid gap-2">
                                                    <a href="/reports/1" class="btn btn-outline-primary">View Full Report</a>
                                                    <button class="btn btn-outline-secondary">
                                                        <i class="fas fa-download me-1"></i> Download PDF
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Financial Tab -->
                        <div class="tab-pane fade" id="financial" role="tabpanel" aria-labelledby="financial-tab">
                            <div class="row">
                                <!-- Fee Collection Report -->
                                <div class="col-md-6 mb-4">
                                    <div class="card report-card">
                                        <div class="card-body d-flex flex-column">
                                            <span class="badge bg-danger report-badge">Financial</span>
                                            <div class="text-center text-danger report-icon">
                                                <i class="fas fa-money-bill-wave"></i>
                                            </div>
                                            <h5 class="card-title text-center">Fee Collection Report</h5>
                                            <p class="card-text">Quarterly fee collection report with payment status breakdown.</p>
                                            <div class="chart-container">
                                                <canvas id="feeCollectionChart2"></canvas>
                                            </div>
                                            <div class="report-meta mb-3">
                                                <div class="d-flex justify-content-between">
                                                    <span><i class="far fa-calendar-alt me-1"></i> Generated: Oct 5, 2025</span>
                                                    <span><i class="fas fa-user me-1"></i> By: Admin</span>
                                                </div>
                                            </div>
                                            <div class="report-actions mt-auto">
                                                <div class="d-grid gap-2">
                                                    <a href="/reports/4" class="btn btn-outline-primary">View Full Report</a>
                                                    <button class="btn btn-outline-secondary">
                                                        <i class="fas fa-download me-1"></i> Download PDF
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Custom Tab -->
                        <div class="tab-pane fade" id="custom" role="tabpanel" aria-labelledby="custom-tab">
                            <div class="row">
                                <!-- Placement Statistics Report -->
                                <div class="col-md-6 mb-4">
                                    <div class="card report-card">
                                        <div class="card-body d-flex flex-column">
                                            <span class="badge bg-success report-badge">Custom</span>
                                            <div class="text-center text-success report-icon">
                                                <i class="fas fa-briefcase"></i>
                                            </div>
                                            <h5 class="card-title text-center">Placement Statistics Report</h5>
                                            <p class="card-text">Annual placement statistics report with company-wise breakdown.</p>
                                            <div class="chart-container">
                                                <canvas id="placementChart2"></canvas>
                                            </div>
                                            <div class="report-meta mb-3">
                                                <div class="d-flex justify-content-between">
                                                    <span><i class="far fa-calendar-alt me-1"></i> Generated: Sep 15, 2025</span>
                                                    <span><i class="fas fa-user me-1"></i> By: Admin</span>
                                                </div>
                                            </div>
                                            <div class="report-actions mt-auto">
                                                <div class="d-grid gap-2">
                                                    <a href="/reports/3" class="btn btn-outline-primary">View Full Report</a>
                                                    <button class="btn btn-outline-secondary">
                                                        <i class="fas fa-download me-1"></i> Download PDF
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Generate Report Modal -->
<div class="modal fade" id="generateReportModal" tabindex="-1" aria-labelledby="generateReportModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="generateReportModalLabel">Generate New Report</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label for="reportTitle" class="form-label">Report Title</label>
                        <input type="text" class="form-control" id="reportTitle" placeholder="Enter report title">
                    </div>
                    <div class="mb-3">
                        <label for="reportType" class="form-label">Report Type</label>
                        <select class="form-select" id="reportType">
                            <option selected>Select report type</option>
                            <option value="academic">Academic</option>
                            <option value="attendance">Attendance</option>
                            <option value="financial">Financial</option>
                            <option value="custom">Custom</option>
                        </select>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="reportPeriod" class="form-label">Report Period</label>
                            <select class="form-select" id="reportPeriod">
                                <option selected>Select period</option>
                                <option value="daily">Daily</option>
                                <option value="weekly">Weekly</option>
                                <option value="monthly">Monthly</option>
                                <option value="quarterly">Quarterly</option>
                                <option value="yearly">Yearly</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="reportFormat" class="form-label">Report Format</label>
                            <select class="form-select" id="reportFormat">
                                <option selected>Select format</option>
                                <option value="pdf">PDF</option>
                                <option value="excel">Excel</option>
                                <option value="csv">CSV</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="reportDescription" class="form-label">Description</label>
                        <textarea class="form-control" id="reportDescription" rows="3" placeholder="Enter report description"></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Parameters</label>
                        <div class="card">
                            <div class="card-body">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="" id="paramBranch" checked>
                                            <label class="form-check-label" for="paramBranch">
                                                Branch-wise
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="" id="paramYear" checked>
                                            <label class="form-check-label" for="paramYear">
                                                Year-wise
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="" id="paramSubject">
                                            <label class="form-check-label" for="paramSubject">
                                                Subject-wise
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="" id="paramStudent">
                                            <label class="form-check-label" for="paramStudent">
                                                Student-wise
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Generate Report</button>
            </div>
        </div>
    </div>
</div>

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Academic Performance Chart
        const academicCtx = document.getElementById('academicPerformanceChart').getContext('2d');
        const academicChart = new Chart(academicCtx, {
            type: 'bar',
            data: {
                labels: ['CSE', 'ECE', 'IT', 'ME', 'CE'],
                datasets: [{
                    label: 'Average CGPA',
                    data: [8.7, 8.2, 8.5, 7.8, 8.0],
                    backgroundColor: [
                        'rgba(54, 162, 235, 0.7)',
                        'rgba(255, 99, 132, 0.7)',
                        'rgba(255, 206, 86, 0.7)',
                        'rgba(75, 192, 192, 0.7)',
                        'rgba(153, 102, 255, 0.7)'
                    ],
                    borderColor: [
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 99, 132, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 10
                    }
                }
            }
        });
        
        // Attendance Chart
        const attendanceCtx = document.getElementById('attendanceChart').getContext('2d');
        const attendanceChart = new Chart(attendanceCtx, {
            type: 'line',
            data: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                datasets: [
                    {
                        label: 'CSE',
                        data: [95, 92, 88, 90],
                        borderColor: 'rgba(54, 162, 235, 1)',
                        backgroundColor: 'rgba(54, 162, 235, 0.1)',
                        tension: 0.4,
                        fill: true
                    },
                    {
                        label: 'ECE',
                        data: [90, 88, 85, 87],
                        borderColor: 'rgba(255, 99, 132, 1)',
                        backgroundColor: 'rgba(255, 99, 132, 0.1)',
                        tension: 0.4,
                        fill: true
                    },
                    {
                        label: 'IT',
                        data: [92, 90, 91, 89],
                        borderColor: 'rgba(255, 206, 86, 1)',
                        backgroundColor: 'rgba(255, 206, 86, 0.1)',
                        tension: 0.4,
                        fill: true
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            }
        });
        
        // Placement Chart
        const placementCtx = document.getElementById('placementChart').getContext('2d');
        const placementChart = new Chart(placementCtx, {
            type: 'doughnut',
            data: {
                labels: ['Placed', 'Not Placed', 'Higher Studies', 'Entrepreneurship'],
                datasets: [{
                    data: [65, 15, 12, 8],
                    backgroundColor: [
                        'rgba(75, 192, 192, 0.7)',
                        'rgba(255, 99, 132, 0.7)',
                        'rgba(54, 162, 235, 0.7)',
                        'rgba(255, 206, 86, 0.7)'
                    ],
                    borderColor: [
                        'rgba(75, 192, 192, 1)',
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        });
        
        // Fee Collection Chart
        const feeCtx = document.getElementById('feeCollectionChart').getContext('2d');
        const feeChart = new Chart(feeCtx, {
            type: 'pie',
            data: {
                labels: ['Paid', 'Partially Paid', 'Pending'],
                datasets: [{
                    data: [70, 20, 10],
                    backgroundColor: [
                        'rgba(75, 192, 192, 0.7)',
                        'rgba(255, 206, 86, 0.7)',
                        'rgba(255, 99, 132, 0.7)'
                    ],
                    borderColor: [
                        'rgba(75, 192, 192, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(255, 99, 132, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        });
        
        // Duplicate charts for other tabs
        const academicCtx2 = document.getElementById('academicPerformanceChart2').getContext('2d');
        const academicChart2 = new Chart(academicCtx2, {
            type: 'bar',
            data: {
                labels: ['CSE', 'ECE', 'IT', 'ME', 'CE'],
                datasets: [{
                    label: 'Average CGPA',
                    data: [8.7, 8.2, 8.5, 7.8, 8.0],
                    backgroundColor: [
                        'rgba(54, 162, 235, 0.7)',
                        'rgba(255, 99, 132, 0.7)',
                        'rgba(255, 206, 86, 0.7)',
                        'rgba(75, 192, 192, 0.7)',
                        'rgba(153, 102, 255, 0.7)'
                    ],
                    borderColor: [
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 99, 132, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 10
                    }
                }
            }
        });
        
        // Attendance Chart for tab 2
        const attendanceCtx2 = document.getElementById('attendanceChart2').getContext('2d');
        const attendanceChart2 = new Chart(attendanceCtx2, {
            type: 'line',
            data: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                datasets: [
                    {
                        label: 'CSE',
                        data: [95, 92, 88, 90],
                        borderColor: 'rgba(54, 162, 235, 1)',
                        backgroundColor: 'rgba(54, 162, 235, 0.1)',
                        tension: 0.4,
                        fill: true
                    },
                    {
                        label: 'ECE',
                        data: [90, 88, 85, 87],
                        borderColor: 'rgba(255, 99, 132, 1)',
                        backgroundColor: 'rgba(255, 99, 132, 0.1)',
                        tension: 0.4,
                        fill: true
                    },
                    {
                        label: 'IT',
                        data: [92, 90, 91, 89],
                        borderColor: 'rgba(255, 206, 86, 1)',
                        backgroundColor: 'rgba(255, 206, 86, 0.1)',
                        tension: 0.4,
                        fill: true
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            }
        });
        
        // Placement Chart for tab 2
        const placementCtx2 = document.getElementById('placementChart2').getContext('2d');
        const placementChart2 = new Chart(placementCtx2, {
            type: 'doughnut',
            data: {
                labels: ['Placed', 'Not Placed', 'Higher Studies', 'Entrepreneurship'],
                datasets: [{
                    data: [65, 15, 12, 8],
                    backgroundColor: [
                        'rgba(75, 192, 192, 0.7)',
                        'rgba(255, 99, 132, 0.7)',
                        'rgba(54, 162, 235, 0.7)',
                        'rgba(255, 206, 86, 0.7)'
                    ],
                    borderColor: [
                        'rgba(75, 192, 192, 1)',
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        });
        
        // Fee Collection Chart for tab 2
        const feeCtx2 = document.getElementById('feeCollectionChart2').getContext('2d');
        const feeChart2 = new Chart(feeCtx2, {
            type: 'pie',
            data: {
                labels: ['Paid', 'Partially Paid', 'Pending'],
                datasets: [{
                    data: [70, 20, 10],
                    backgroundColor: [
                        'rgba(75, 192, 192, 0.7)',
                        'rgba(255, 206, 86, 0.7)',
                        'rgba(255, 99, 132, 0.7)'
                    ],
                    borderColor: [
                        'rgba(75, 192, 192, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(255, 99, 132, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        });
    });
</script>
{% endblock %}
{% endblock %}
